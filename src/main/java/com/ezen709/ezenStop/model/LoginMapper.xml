<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.ezen709.ezenstop.model">
  <insert id="createMember" parameterType="ezen_memberDTO">
 		insert into ezen_member values(#{email},#{id},#{passwd},#{name},sysdate,#{academyLocation},#{grade},#{status})
 </insert>
 <insert id= "insert_certification" parameterType="ezen_certificationDTO">
 		insert into ezen_certification values(#{id},#{name},#{image},#{filesize},sysdate)
 </insert>

 <select id="emailCheck" parameterType="String" resultType="Integer">
		 select count(*) from ezen_member where email=#{email}
 </select>
 <select id="login" parameterType="java.util.Map" resultType="ezen_memberDTO">
		 select * from ezen_member where id=#{id} and passwd=#{passwd}
 </select>
  <select id="find_id" parameterType="java.util.Map" resultType="String">
		 select id from ezen_member where name=#{name} and email=#{email}
 </select>
 <select id="find_passwd" parameterType="java.util.Map" resultType="Integer">
		 select count(*) from ezen_member where name=#{name} and email=#{email} and id=#{id}
 </select>
 <select id="getMemberDTO" parameterType="String" resultType="ezen_memberDTO">
		 select * from ezen_member where id=#{id}
 </select>
 <select id="getFile" parameterType="String" resultType="ezen_certificationDTO">
 		 select * from ezen_certification where id=#{id}
 </select>
 
 
 <update id="change_passwd" parameterType="java.util.Map">
 		update ezen_member set passwd=#{passwd} where id=#{id}
 </update>
 <update id="update_certification" parameterType="java.util.Map">
 		update ezen_certification set image=#{image}, filesize=#{filesize} where id=#{id}
 </update>
 
 <delete id="dropId" parameterType="String">
 		delete from ezen_member where id=#{id}
 </delete>
 </mapper>
 
 <!-- select * 
		 from (select rownum rn, A.* from (select * from board order by re_step asc)A) 
		 where rn between #{start} and #{end} -->
 